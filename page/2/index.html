<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.1.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.png?v=7.1.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png?v=7.1.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png?v=7.1.0">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.1.0',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="苏格拉底粉">
<meta name="keywords" content="编程哲学 编程思想">
<meta property="og:type" content="website">
<meta property="og:title" content="思与行">
<meta property="og:url" content="https://iweixubin.github.io/page/2/index.html">
<meta property="og:site_name" content="思与行">
<meta property="og:description" content="苏格拉底粉">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="思与行">
<meta name="twitter:description" content="苏格拉底粉">





  
  
  <link rel="canonical" href="https://iweixubin.github.io/page/2/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>思与行</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">思与行</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://iweixubin.github.io/posts/tools/Logstash/001/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="阿彬~">
      <meta itemprop="description" content="苏格拉底粉">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="思与行">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/posts/tools/Logstash/001/" class="post-title-link" itemprop="url">未命名</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-09-23 22:51:49" itemprop="dateCreated datePublished" datetime="2020-09-23T22:51:49+08:00">2020-09-23</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-09-24 00:21:55" itemprop="dateModified" datetime="2020-09-24T00:21:55+08:00">2020-09-24</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://medium.com/rahasak/migrate-data-from-mysql-to-elasticsearch-88aa706b80d4" target="_blank" rel="noopener">https://medium.com/rahasak/migrate-data-from-mysql-to-elasticsearch-88aa706b80d4</a></p>
<p><a href="https://www.elastic.co/blog/how-to-keep-elasticsearch-synchronized-with-a-relational-database-using-logstash" target="_blank" rel="noopener">https://www.elastic.co/blog/how-to-keep-elasticsearch-synchronized-with-a-relational-database-using-logstash</a></p>
<p><a href="https://dzone.com/articles/migrating-mysql-data-to-elasticsearch-using-logsta" target="_blank" rel="noopener">https://dzone.com/articles/migrating-mysql-data-to-elasticsearch-using-logsta</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/71629420" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/71629420</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

       


      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://iweixubin.github.io/posts/mysql/installing/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="阿彬~">
      <meta itemprop="description" content="苏格拉底粉">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="思与行">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/posts/mysql/installing/" class="post-title-link" itemprop="url">Ubuntu 上安装 MySQL</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-09-22 00:00:01" itemprop="dateCreated datePublished" datetime="2020-09-22T00:00:01+08:00">2020-09-22</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-11-05 22:37:02" itemprop="dateModified" datetime="2020-11-05T22:37:02+08:00">2020-11-05</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/MySQL/" itemprop="url" rel="index"><span itemprop="name">MySQL</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>本文讲述怎么在 Ubuntu 上安装 MySQL(8)</p>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/posts/mysql/installing/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

       


      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://iweixubin.github.io/posts/prometheus/getting-started/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="阿彬~">
      <meta itemprop="description" content="苏格拉底粉">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="思与行">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/posts/prometheus/getting-started/" class="post-title-link" itemprop="url">Prometheus 极速体验</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-09-17 00:00:01" itemprop="dateCreated datePublished" datetime="2020-09-17T00:00:01+08:00">2020-09-17</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-11-05 23:03:31" itemprop="dateModified" datetime="2020-11-05T23:03:31+08:00">2020-11-05</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Prometheus/" itemprop="url" rel="index"><span itemprop="name">Prometheus</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>极速体验 Prometheus 是什么，以及可以干什么~</p>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/posts/prometheus/getting-started/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

       


      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://iweixubin.github.io/posts/traefik/routing/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="阿彬~">
      <meta itemprop="description" content="苏格拉底粉">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="思与行">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/posts/traefik/routing/" class="post-title-link" itemprop="url">Traefik 路由</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-09-12 00:00:01" itemprop="dateCreated datePublished" datetime="2020-09-12T00:00:01+08:00">2020-09-12</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-11-05 22:54:07" itemprop="dateModified" datetime="2020-11-05T22:54:07+08:00">2020-11-05</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Traefik/" itemprop="url" rel="index"><span itemprop="name">Traefik</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>本文介绍 请求(Requests) 与 Traefik 之间不可告人的秘密~</p>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/posts/traefik/routing/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

       


      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://iweixubin.github.io/posts/traefik/provider-docker/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="阿彬~">
      <meta itemprop="description" content="苏格拉底粉">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="思与行">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/posts/traefik/provider-docker/" class="post-title-link" itemprop="url">Traefik & Docker</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-09-10 00:00:02" itemprop="dateCreated datePublished" datetime="2020-09-10T00:00:02+08:00">2020-09-10</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-11-05 22:54:07" itemprop="dateModified" datetime="2020-11-05T22:54:07+08:00">2020-11-05</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Traefik/" itemprop="url" rel="index"><span itemprop="name">Traefik</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>标签(Labels)和容器(Containers)的故事~</p>
<p>给你的容器(Containers)加上标签(Labels)，剩下的事情就交给 Traefik</p>
<p><img src="https://docs.traefik.io/assets/img/providers/docker.png" alt="Traefik &amp; Docker"></p>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/posts/traefik/provider-docker/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

       


      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://iweixubin.github.io/posts/traefik/getting-started/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="阿彬~">
      <meta itemprop="description" content="苏格拉底粉">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="思与行">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/posts/traefik/getting-started/" class="post-title-link" itemprop="url">Traefik 入门教程</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-09-10 00:00:01" itemprop="dateCreated datePublished" datetime="2020-09-10T00:00:01+08:00">2020-09-10</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-11-05 22:54:06" itemprop="dateModified" datetime="2020-11-05T22:54:06+08:00">2020-11-05</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Traefik/" itemprop="url" rel="index"><span itemprop="name">Traefik</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>Traefik 与 nginx 一样，是一款优秀的反向代理工具，或者叫 Edge Router。<br>至于使用它的原因则基于以下几点：</p>
<ul>
<li>无须重启即可更新配置</li>
<li>自动的服务发现与负载均衡</li>
<li>原生兼容各主要集群技术(Kubernetes, Docker, Docker Swarm, AWS, <a href="https://docs.traefik.io/providers/overview/#supported-providers" target="_blank" rel="noopener">etc</a>)</li>
</ul>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/posts/traefik/getting-started/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

       


      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://iweixubin.github.io/posts/msbuild/dotnet-core-csproj/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="阿彬~">
      <meta itemprop="description" content="苏格拉底粉">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="思与行">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/posts/msbuild/dotnet-core-csproj/" class="post-title-link" itemprop="url">MSBuild 遇上 .NET Core 的 csproj 文件</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-08-22 00:00:01" itemprop="dateCreated datePublished" datetime="2020-08-22T00:00:01+08:00">2020-08-22</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-11-05 23:03:31" itemprop="dateModified" datetime="2020-11-05T23:03:31+08:00">2020-11-05</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/MSBuild/" itemprop="url" rel="index"><span itemprop="name">MSBuild</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>本文详解 .NET Core 的 csproj 文件</p>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/posts/msbuild/dotnet-core-csproj/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

       


      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://iweixubin.github.io/posts/msbuild/aspnetcore-http/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="阿彬~">
      <meta itemprop="description" content="苏格拉底粉">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="思与行">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/posts/msbuild/aspnetcore-http/" class="post-title-link" itemprop="url">MSBuild 遇上 Microsoft.AspNetCore.Http.csproj</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-08-22 00:00:01" itemprop="dateCreated datePublished" datetime="2020-08-22T00:00:01+08:00">2020-08-22</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-11-05 23:03:31" itemprop="dateModified" datetime="2020-11-05T23:03:31+08:00">2020-11-05</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/MSBuild/" itemprop="url" rel="index"><span itemprop="name">MSBuild</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>文本解析 Microsoft.AspNetCore.Http.csproj 源码版本是 <code>v3.1.7</code> 的内容~</p>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/posts/msbuild/aspnetcore-http/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

       


      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://iweixubin.github.io/posts/msbuild/getting-started/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="阿彬~">
      <meta itemprop="description" content="苏格拉底粉">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="思与行">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/posts/msbuild/getting-started/" class="post-title-link" itemprop="url">MSBuild 入门</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-08-19 00:00:01" itemprop="dateCreated datePublished" datetime="2020-08-19T00:00:01+08:00">2020-08-19</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-11-05 23:03:31" itemprop="dateModified" datetime="2020-11-05T23:03:31+08:00">2020-11-05</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/MSBuild/" itemprop="url" rel="index"><span itemprop="name">MSBuild</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>从 GitHub 上 Clone 下来 aspnetcore 源码后，要进行各种编译，出错~<br>为自己不了解错误背后的原因而感到难受，所以下定决心好好学习一下 MSBuild~</p>
<h2 id="MSBuild-初体验"><a href="#MSBuild-初体验" class="headerlink" title="MSBuild 初体验"></a>MSBuild 初体验</h2><p>安装完 Visual Studio 2019 后，在下面两个目录下有 <code>MSBuild.exe</code>：<br>C:\Program Files (x86)\Microsoft Visual Studio\2019\Enterprise\MSBuild\Current\Bin<br>C:\Program Files (x86)\Microsoft Visual Studio\2019\Enterprise\MSBuild\Current\Bin\amd64<br>由于<a href="https://docs.microsoft.com/zh-cn/visualstudio/msbuild/msbuild?view=vs-2019" target="_blank" rel="noopener">官方文档</a>说一般情况下不使用 64版本，<br>所以我们将 C:\Program Files (x86)\Microsoft Visual Studio\2019\Enterprise\MSBuild\Current\Bin 添加到 环境变量 <code>PATH</code> 中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;msbuild</span><br><span class="line">用于 .NET Framework 的 Microsoft (R) 生成引擎版本 16.7.0+b89cb5fde</span><br><span class="line">版权所有(C) Microsoft Corporation。保留所有权利。</span><br><span class="line"></span><br><span class="line">MSBUILD : error MSB1003: 请指定项目或解决方案文件。当前工作目录中未包含项目或解决方案文件。</span><br></pre></td></tr></table></figure>
<p>创建一个 HelloWorld.xml 的内容为：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="comment">&lt;!-- 根元素，表示一个项目 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- DefaultTargets 用于定默认执行的目标 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Project</span> <span class="attr">DefaultTargets</span>=<span class="string">"build"</span> <span class="attr">xmlns</span>=<span class="string">"http://schemas.microsoft.com/developer/msbuild/2003"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 属性都要包含在 PropertyGroup 元素内部 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 声明一个自定义"greeting"属性，其值为"hello world" --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">greeting</span>&gt;</span>hello world<span class="tag">&lt;/<span class="name">greeting</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 目标 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">Target</span> <span class="attr">Name</span>=<span class="string">"build"</span>&gt;</span> <span class="comment">&lt;!--DefaultTargets 指定的就是我--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- MSBuild 提供的一个内置任务，用于生成记录信息用 $(属性名) 来引用属性的值 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Message</span> <span class="attr">Text</span>=<span class="string">"$(greeting)"</span>&gt;</span><span class="tag">&lt;/<span class="name">Message</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 使用 MSBuild 提供的保留属性，输出全路径 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Message</span> <span class="attr">Text</span>=<span class="string">"$(MSBuildThisFileDirectory)$(MSBuildProjectFile)"</span>&gt;</span><span class="tag">&lt;/<span class="name">Message</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">Target</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Project</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">D:\MSBuildDemo&gt;msbuild HelloWorld.xml</span><br><span class="line">用于 .NET Framework 的 Microsoft (R) 生成引擎版本 16.7.0+b89cb5fde</span><br><span class="line">版权所有(C) Microsoft Corporation。保留所有权利。</span><br><span class="line"></span><br><span class="line">生成启动时间为 yyyy/MM/DD HH:mm:ss。</span><br><span class="line">节点 1 上的项目“D:\MSBuildDemo\HelloWorld.xml”(默认目标)。</span><br><span class="line">build:</span><br><span class="line">  hello world</span><br><span class="line">  D:\MSBuildDemo\HelloWorld.xml</span><br><span class="line">已完成生成项目“D:\MSBuildDemo\HelloWorld.xml”(默认目标)的操作。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">已成功生成。</span><br><span class="line">    0 个警告</span><br><span class="line">    0 个错误</span><br><span class="line"></span><br><span class="line">已用时间 00:00:00.04</span><br></pre></td></tr></table></figure>
<h2 id="创建最小的应用程序"><a href="#创建最小的应用程序" class="headerlink" title="创建最小的应用程序"></a>创建最小的应用程序</h2><p>在 <code>D:\MSBuildDemo</code> 下创建 <code>Helloworld.cs</code> 文件，内容为：</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">HelloWorld</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> DebugConfig</span></span><br><span class="line">        Console.WriteLine(<span class="string">"WE ARE IN THE DEBUG CONFIGURATION"</span>);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">        Console.WriteLine(<span class="string">"Hello, world!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在 Windows 任务栏的搜索框中进行搜索 <code>Developer Command Prompt for VS 2019</code>，<a href="https://docs.microsoft.com/zh-cn/dotnet/framework/tools/developer-command-prompt-for-vs?redirectedfrom=MSDN" target="_blank" rel="noopener">演示</a><br><strong>以管理员身份运行</strong> <code>Developer Command Prompt for VS 2019</code>，启动后应该是：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">**********************************************************************</span><br><span class="line">** Visual Studio 2019 Developer Command Prompt v16.7.0</span><br><span class="line">** Copyright (c) 2020 Microsoft Corporation</span><br><span class="line">**********************************************************************</span><br><span class="line"></span><br><span class="line">C:\Windows\System32&gt;</span><br></pre></td></tr></table></figure>
<p>在命令提示符下，键入 <code>csc D:\MSBuildDemo\HelloWorld.cs</code> 来生成应用程序。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">C:\Windows\System32&gt;csc D:\MSBuildDemo\HelloWorld.cs</span><br><span class="line">Microsoft(R) Visual C# 编译器 版本 3.7.0-6.20375.2 (34202cc2)</span><br><span class="line">版权所有(C) Microsoft Corporation。保留所有权利。</span><br></pre></td></tr></table></figure>
<p>编译成功后，在 <code>C:\Windows\System32</code> 会生成 <code>HelloWorld.exe</code></p>
<p>在命令提示符下，键入 helloworld 测试应用程序。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">C:\Windows\System32&gt;helloworld</span><br><span class="line">Hello, world!</span><br></pre></td></tr></table></figure>
<p>将在 <code>C:\Windows\System32</code> 会生成的 <code>HelloWorld.exe</code> 删除<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Windows\System32&gt;del helloworld.exe</span><br></pre></td></tr></table></figure></p>
<h2 id="创建最小的-MSBuild-项目文件"><a href="#创建最小的-MSBuild-项目文件" class="headerlink" title="创建最小的 MSBuild 项目文件"></a>创建最小的 MSBuild 项目文件</h2><p>在 <code>D:\MSBuildDemo</code> 下创建 <code>Helloworld.csproj</code> 文件，内容为：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 必需的根 Project 节点。 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Project</span> <span class="attr">xmlns</span>=<span class="string">"http://schemas.microsoft.com/developer/msbuild/2003"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 用于包含项元素的 ItemGroup 节点。 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ItemGroup</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 引用应用程序源文件的项元素。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Compile</span> <span class="attr">Include</span>=<span class="string">"HelloWorld.cs"</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;Compile Include="*.cs" /&gt; 可以使用通配符--&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ItemGroup</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">&lt;!-- 一个 Target 节点，用于包含生成应用程序所需的任务。 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">Target</span> <span class="attr">Name</span>=<span class="string">"Build"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 此 Task 元素，作为 Target 节点的子元素：用于启动 Visual C# 编译器以生成应用程序。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Csc</span> <span class="attr">Sources</span>=<span class="string">"@(Compile)"</span>/&gt;</span>  </span><br><span class="line">    <span class="comment">&lt;!-- Build 目标中的任务按顺序执行。 </span></span><br><span class="line"><span class="comment">    在本例中，Visual C# 编译器 Csc 任务是唯一的任务。 </span></span><br><span class="line"><span class="comment">    它需要编译一系列源文件，这一系列文件由 Compile 项的值指定。 </span></span><br><span class="line"><span class="comment">    Compile 项只引用一个源文件，即 Helloworld.cs。 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">Target</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">Project</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>运行 <code>Developer Command Prompt for VS 2019</code>，后：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">C:\Windows\System32&gt;msbuild D:\MSBuildDemo\HelloWorld.csproj</span><br><span class="line">用于 .NET Framework 的 Microsoft (R) 生成引擎版本 16.7.0+b89cb5fde</span><br><span class="line">版权所有(C) Microsoft Corporation。保留所有权利。</span><br><span class="line"></span><br><span class="line">生成启动时间为 yyyy/MM/DD HH:mm:ss。</span><br><span class="line">节点 1 上的项目“D:\MSBuildDemo\HelloWorld.csproj”(默认目标)。</span><br><span class="line">Build:</span><br><span class="line">  C:\Program Files (x86)\Microsoft Visual Studio\2019\Enterprise\MSBuild\Current\Bin\Roslyn\csc.exe /out:HelloWorld.exe</span><br><span class="line">   HelloWorld.cs</span><br><span class="line">已完成生成项目“D:\MSBuildDemo\HelloWorld.csproj”(默认目标)的操作。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">已成功生成。</span><br><span class="line">    0 个警告</span><br><span class="line">    0 个错误</span><br><span class="line"></span><br><span class="line">已用时间 00:00:00.54</span><br></pre></td></tr></table></figure></p>
<p>主要的是，<code>HelloWorld.exe</code> 是生成在与 <code>HelloWorld.csproj</code> 同一个目录。<br>新开一个 CMD 窗口，CD 到 <code>D:\MSBuildDemo</code>，运行 <code>helloworld</code>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">D:\MSBuildDemo&gt;helloworld</span><br><span class="line">Hello, world!</span><br></pre></td></tr></table></figure>
<p>如果<strong>不</strong>使用 <code>Developer Command Prompt for VS 2019</code> 启动的窗口，<br>请注意 <code>-t:Build</code> 部分：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">D:\MSBuildDemo&gt;msbuild helloworld.csproj -t:Build</span><br><span class="line">用于 .NET Framework 的 Microsoft (R) 生成引擎版本 16.7.0+b89cb5fde</span><br><span class="line">版权所有(C) Microsoft Corporation。保留所有权利。</span><br><span class="line"></span><br><span class="line">生成启动时间为 yyyy/MM/DD HH:mm:ss。</span><br><span class="line">项目“D:\MSBuildDemo\helloworld.csproj”在节点 1 上(Build 个目标)。</span><br><span class="line">Build:</span><br><span class="line">  C:\Program Files (x86)\Microsoft Visual Studio\2019\Enterprise\MSBuild\Current\Bin\Roslyn\csc.exe /out:HelloWorld.exe</span><br><span class="line">   HelloWorld.cs</span><br><span class="line">已完成生成项目“D:\MSBuildDemo\helloworld.csproj”(Build 个目标)的操作。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">已成功生成。</span><br><span class="line">    0 个警告</span><br><span class="line">    0 个错误</span><br><span class="line"></span><br><span class="line">已用时间 00:00:00.52</span><br></pre></td></tr></table></figure></p>
<h2 id="添加生成属性"><a href="#添加生成属性" class="headerlink" title="添加生成属性"></a>添加生成属性</h2><p>可以将生成属性添加到项目文件中，从而进一步控制生成。 现在添加以下属性：<br>一个 <code>AssemblyName</code> 属性，用于指定应用程序的名称。<br>一个 <code>OutputPath</code> 属性，用于指定要包含应用程序的文件夹。  </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 必需的根 Project 节点。 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Project</span> <span class="attr">xmlns</span>=<span class="string">"http://schemas.microsoft.com/developer/msbuild/2003"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 定义程序集名称 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">AssemblyName</span>&gt;</span>MSBuildSample<span class="tag">&lt;/<span class="name">AssemblyName</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 定义编译后的输出目录 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">OutputPath</span>&gt;</span>Bin\<span class="tag">&lt;/<span class="name">OutputPath</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 用于包含项元素的 ItemGroup 节点。 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ItemGroup</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 引用应用程序源文件的项元素。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Compile</span> <span class="attr">Include</span>=<span class="string">"HelloWorld.cs"</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;Compile Include="*.cs" /&gt; 可以使用通配符--&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ItemGroup</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">&lt;!-- 一个 Target 节点，用于包含生成应用程序所需的任务。 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">Target</span> <span class="attr">Name</span>=<span class="string">"Build"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Build 目标中的任务按顺序执行。现在有两个任务，一个创建文件夹，一个编译程序  --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 将此任务添加到 Build 目标，置于 Csc 任务的前面：</span></span><br><span class="line"><span class="comment">    MakeDir 任务将创建一个由 OutputPath 属性命名的文件夹，前提是当前不存在具有该名称的文件夹。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">MakeDir</span> <span class="attr">Directories</span>=<span class="string">"$(OutputPath)"</span> <span class="attr">Condition</span>=<span class="string">"!Exists('$(OutputPath)')"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 这将指示 Visual C# 编译器生成由 AssemblyName 属性命名的程序集，并将其放在由 OutputPath 属性命名的文件夹中。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Csc</span> <span class="attr">Sources</span>=<span class="string">"@(Compile)"</span> <span class="attr">OutputAssembly</span>=<span class="string">"$(OutputPath)$(AssemblyName).exe"</span> /&gt;</span> </span><br><span class="line">  <span class="tag">&lt;/<span class="name">Target</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">Project</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">D:\MSBuildDemo&gt;msbuild helloworld.csproj -t:Build</span><br><span class="line">用于 .NET Framework 的 Microsoft (R) 生成引擎版本 16.7.0+b89cb5fde</span><br><span class="line">版权所有(C) Microsoft Corporation。保留所有权利。</span><br><span class="line"></span><br><span class="line">生成启动时间为 yyyy/MM/DD HH:mm:ss。</span><br><span class="line">项目“D:\MSBuildDemo\helloworld.csproj”在节点 1 上(Build 个目标)。</span><br><span class="line">Build:</span><br><span class="line">  正在创建目录“Bin\”。</span><br><span class="line">  C:\Program Files (x86)\Microsoft Visual Studio\2019\Enterprise\MSBuild\Current\Bin\Roslyn\csc.exe /out:Bin\MSBuildSam</span><br><span class="line">  ple.exe HelloWorld.cs</span><br><span class="line">已完成生成项目“D:\MSBuildDemo\helloworld.csproj”(Build 个目标)的操作。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">已成功生成。</span><br><span class="line">    0 个警告</span><br><span class="line">    0 个错误</span><br><span class="line"></span><br><span class="line">已用时间 00:00:00.52</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>备注</strong><br>在 OutputPath 元素中指定文件夹名称时，建议在文件夹名称的末尾添加反斜杠 () 路径分隔符，而不是将其添加到 Csc 任务的 OutputAssembly 属性中。 因此，<br>\&lt;OutputPath>Bin\\ 推荐有 \</p>
<p>OutputAssembly==”\$(OutputPath)\$(AssemblyName).exe” /&gt; 不推荐有 \</p>
<p>优于<br>\&lt;OutputPath>Bin\</p>
<p>OutputAssembly==”$(OutputPath)\$(AssemblyName).exe” /&gt;</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 既然有多个 Target，就可以将 Build 目标设置为默认目标。 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Project</span> <span class="attr">DefaultTargets</span>=<span class="string">"Build"</span> <span class="attr">xmlns</span>=<span class="string">"http://schemas.microsoft.com/developer/msbuild/2003"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 定义程序集名称 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">AssemblyName</span>&gt;</span>MSBuildSample<span class="tag">&lt;/<span class="name">AssemblyName</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 定义编译后的输出目录 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">OutputPath</span>&gt;</span>Bin\<span class="tag">&lt;/<span class="name">OutputPath</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 用于包含项元素的 ItemGroup 节点。 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ItemGroup</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 引用应用程序源文件的项元素。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Compile</span> <span class="attr">Include</span>=<span class="string">"HelloWorld.cs"</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;Compile Include="*.cs" /&gt; 可以使用通配符--&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ItemGroup</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">&lt;!-- 一个 Target 节点，用于包含生成应用程序所需的任务。 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">Target</span> <span class="attr">Name</span>=<span class="string">"Build"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Build 目标中的任务按顺序执行。现在有两个任务，一个创建文件夹，一个编译程序  --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 将此任务添加到 Build 目标，置于 Csc 任务的前面：</span></span><br><span class="line"><span class="comment">    MakeDir 任务将创建一个由 OutputPath 属性命名的文件夹，前提是当前不存在具有该名称的文件夹。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">MakeDir</span> <span class="attr">Directories</span>=<span class="string">"$(OutputPath)"</span> <span class="attr">Condition</span>=<span class="string">"!Exists('$(OutputPath)')"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 这将指示 Visual C# 编译器生成由 AssemblyName 属性命名的程序集，并将其放在由 OutputPath 属性命名的文件夹中。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Csc</span> <span class="attr">Sources</span>=<span class="string">"@(Compile)"</span> <span class="attr">OutputAssembly</span>=<span class="string">"$(OutputPath)$(AssemblyName).exe"</span> /&gt;</span> </span><br><span class="line">  <span class="tag">&lt;/<span class="name">Target</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">Target</span> <span class="attr">Name</span>=<span class="string">"Clean"</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Delete</span> <span class="attr">Files</span>=<span class="string">"$(OutputPath)$(AssemblyName).exe"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">Target</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 先执行 Clean 再执行 Build --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">Target</span> <span class="attr">Name</span>=<span class="string">"Rebuild"</span> <span class="attr">DependsOnTargets</span>=<span class="string">"Clean;Build"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Project</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="测试生成目标"><a href="#测试生成目标" class="headerlink" title="测试生成目标"></a>测试生成目标</h3><ol>
<li><p>在命令提示符处，键入msbuild helloworld.csproj -p:AssemblyName=Greetings。</p>
<ul>
<li>由于未使用 -t 开关显式设置目标，因此 MSBuild 运行默认 Build 目标。 </li>
<li>-p 开关替代 AssemblyName 属性，并为它指定新值 Greetings。 这将导致在“\Bin\”文件夹中创建一个新应用程序 Greetings.exe。</li>
</ul>
</li>
<li><p>要验证“\Bin\”文件夹是否同时包含 MSBuildSample 应用程序和新的 Greetings 应用程序，请键入“dir Bin”。</p>
</li>
<li><p>键入 Bin\Greetings 测试 Greetings 应用程序。</p>
<ul>
<li>显示的消息应为 Hello, world! 。</li>
</ul>
</li>
<li><p>通过键入 msbuild helloworld.csproj -t:clean，删除 MSBuildSample 应用程序。</p>
<ul>
<li>这将运行 Clean 任务，以删除具有默认 AssemblyName 属性值 MSBuildSample 的应用程序。</li>
</ul>
</li>
<li><p>通过键入 msbuild helloworld.csproj -t:clean -p:AssemblyName=Greetings，删除 Greetings 应用程序。</p>
<ul>
<li>这将运行 Clean 任务，以删除具有指定 AssemblyName 属性值 Greetings 的应用程序。</li>
</ul>
</li>
<li><p>要验证“\Bin\”文件夹现在是否为空，请键入“dir Bin”。</p>
</li>
<li><p>键入 msbuild。</p>
<ul>
<li>尽管未指定项目文件，但 MSBuild 会生成 helloworld.csproj 文件，因为当前文件夹中只有一个项目文件。 这将导致在“\Bin\”文件夹中创建 MSBuildSample 应用程序。</li>
</ul>
</li>
</ol>
<p>小结一下：</p>
<ul>
<li>可以通过给 <code>-t</code> 传递 <code>Target</code> 的 <code>Name</code>，来指定运行该 <code>Target</code> 下的任务。</li>
<li>可以通过 <code>-p:</code> 来设置 <code>PropertyGroup</code> 节点中的参数值。</li>
</ul>
<h2 id="增量生成"><a href="#增量生成" class="headerlink" title="增量生成"></a>增量生成</h2><p>可以指示 MSBuild 仅在目标所依赖的源文件或目标文件发生更改时才生成目标。 MSBuild 使用文件的时间戳来确定文件是否已更改。</p>
<p>将 <code>Target Name=&quot;Build&quot;</code> 节点修改成如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Target</span> <span class="attr">Name</span>=<span class="string">"Build"</span> <span class="attr">Inputs</span>=<span class="string">"@(Compile)"</span> <span class="attr">Outputs</span>=<span class="string">"$(OutputPath)$(AssemblyName).exe"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">MakeDir</span> <span class="attr">Directories</span>=<span class="string">"$(OutputPath)"</span> <span class="attr">Condition</span>=<span class="string">"!Exists('$(OutputPath)')"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">Csc</span> <span class="attr">Sources</span>=<span class="string">"@(Compile)"</span> <span class="attr">OutputAssembly</span>=<span class="string">"$(OutputPath)$(AssemblyName).exe"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Target</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">D:\MSBuildDemo&gt;msbuild -v:d</span><br><span class="line">用于 .NET Framework 的 Microsoft (R) 生成引擎版本 16.7.0+b89cb5fde</span><br><span class="line">版权所有(C) Microsoft Corporation。保留所有权利。</span><br><span class="line"></span><br><span class="line">生成启动时间为 yyyy/MM/DD HH:mm:ss。</span><br><span class="line">进程 = &quot;C:\Program Files (x86)\Microsoft Visual Studio\2019\Enterprise\MSBuild\Current\Bin\MSBuild.exe&quot;</span><br><span class="line">MSBuild 可执行文件路径 = &quot;C:\Program Files (x86)\Microsoft Visual Studio\2019\Enterprise\MSBuild\Current\Bin\MSBuild.exe&quot;</span><br><span class="line">命令行参数 = &quot;msbuild  -v:d&quot;</span><br><span class="line">当前目录 = &quot;D:\MSBuildDemo&quot;</span><br><span class="line">MSBuild 版本 = &quot;16.7.0+b89cb5fde&quot;</span><br><span class="line">节点 1 上的项目“D:\MSBuildDemo\Helloworld.csproj”(默认目标)。</span><br><span class="line">正在使用工具版本“Current”进行生成。</span><br><span class="line">项目“D:\MSBuildDemo\Helloworld.csproj”中的目标“Build”(入口点):</span><br><span class="line">正在跳过目标“Build”，因为所有输出文件相对于输入文件而言都是最新的。</span><br><span class="line">输入文件:HelloWorld.cs</span><br><span class="line">输出文件:Bin\MSBuildSample.exe</span><br><span class="line">已完成在项目“Helloworld.csproj”中生成目标“Build”的操作。</span><br><span class="line">已完成生成项目“D:\MSBuildDemo\Helloworld.csproj”(默认目标)的操作。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">已成功生成。</span><br><span class="line">    0 个警告</span><br><span class="line">    0 个错误</span><br><span class="line"></span><br><span class="line">已用时间 00:00:00.04</span><br></pre></td></tr></table></figure>
<p>难道是比较 <code>HelloWorld.cs</code> 文件最后的修改时间与 <code>Bin\MSBuildSample.exe</code> 文件最后的修改时间？</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>最后按 <a href="https://docs.microsoft.com/zh-cn/visualstudio/msbuild/msbuild?view=vs-2019" target="_blank" rel="noopener">https://docs.microsoft.com/zh-cn/visualstudio/msbuild/msbuild?view=vs-2019</a> 小结一下我们了解到的内容~</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 在 MSBuild 中，元素和特性名称区分大小写。 但是，属性、项和元数据名称不区分大小写。 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Project</span> <span class="attr">DefaultTargets</span>=<span class="string">"Build"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns</span>=<span class="string">"http://schemas.microsoft.com/developer/msbuild/2003"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 属性 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 属性表示可用于配置生成的键/值对。  --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 属性的声明方式是：创建一个与属性同名的元素，将其指定为 PropertyGroup 元素的子元素。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 声明一个名位 AssemblyName 的属性，其值 MSBuildSample  --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">AssemblyName</span>&gt;</span>MSBuildSample<span class="tag">&lt;/<span class="name">AssemblyName</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">OutputPath</span>&gt;</span>Bin\<span class="tag">&lt;/<span class="name">OutputPath</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 项 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 项是生成系统的输入，通常表示文件。 将根据用户定义的项名称，将项编组到各种项类型中。 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 这些项类型可以用作任务的参数，任务使用各个项来执行生成过程的步骤。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ItemGroup</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 创建一个名为 Compile 的项类型 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Compile</span> <span class="attr">Include</span>=<span class="string">"*.cs"</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 在整个项目文件中，可以使用语法 @(&lt;ItemType&gt;) 来引用项目类型。 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 例如，可以使用 @(Compile) 引用示例中的项类型。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ItemGroup</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 目标 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 目标按特定的顺序将任务组合到一起，并将项目文件的各个部分公开为生成过程的入口点。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Target</span> <span class="attr">Name</span>=<span class="string">"Build"</span> <span class="attr">Inputs</span>=<span class="string">"@(Compile)"</span> <span class="attr">Outputs</span>=<span class="string">"$(OutputPath)$(AssemblyName).exe"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 任务 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 任务是 MSBuild 项目用于执行生成操作的可执行代码单元。 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 例如，任务可能编译输入文件或运行外部工具 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">MakeDir</span> <span class="attr">Directories</span>=<span class="string">"$(OutputPath)"</span> <span class="attr">Condition</span>=<span class="string">"!Exists('$(OutputPath)')"</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 任务 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Csc</span> <span class="attr">Sources</span>=<span class="string">"@(Compile)"</span> <span class="attr">OutputAssembly</span>=<span class="string">"$(OutputPath)$(AssemblyName).exe"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Target</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Target</span> <span class="attr">Name</span>=<span class="string">"Clean"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Delete</span> <span class="attr">Files</span>=<span class="string">"$(OutputPath)$(AssemblyName).exe"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Target</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 先执行 Clean 再执行 Build --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Target</span> <span class="attr">Name</span>=<span class="string">"Rebuild"</span> <span class="attr">DependsOnTargets</span>=<span class="string">"Clean;Build"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Project</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>心中的迷茫渐渐消去~<br>然后，当我们打开通过 Visual Studio 2019 创建一个 Web项目的时候，csproj 文件却是这样子的：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Project</span> <span class="attr">Sdk</span>=<span class="string">"Microsoft.NET.Sdk.Web"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TargetFramework</span>&gt;</span>netcoreapp3.1<span class="tag">&lt;/<span class="name">TargetFramework</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">Project</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>为何内容如此不同，感觉这一篇的内容都白学了，有没有~</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="https://www.cnblogs.com/linianhui/archive/2012/08/30/2662648.html" target="_blank" rel="noopener">https://www.cnblogs.com/linianhui/archive/2012/08/30/2662648.html</a><br><a href="https://docs.microsoft.com/zh-cn/visualstudio/msbuild/walkthrough-creating-an-msbuild-project-file-from-scratch?view=vs-2019" target="_blank" rel="noopener">https://docs.microsoft.com/zh-cn/visualstudio/msbuild/walkthrough-creating-an-msbuild-project-file-from-scratch?view=vs-2019</a><br><a href="https://docs.microsoft.com/zh-cn/visualstudio/msbuild/msbuild?view=vs-2019" target="_blank" rel="noopener">https://docs.microsoft.com/zh-cn/visualstudio/msbuild/msbuild?view=vs-2019</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

       


      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://iweixubin.github.io/posts/nuget/globalPackagesFolder-config/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="阿彬~">
      <meta itemprop="description" content="苏格拉底粉">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="思与行">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/posts/nuget/globalPackagesFolder-config/" class="post-title-link" itemprop="url">Nuget 修改默认包存放位置</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-08-12 00:00:01" itemprop="dateCreated datePublished" datetime="2020-08-12T00:00:01+08:00">2020-08-12</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-11-05 23:03:31" itemprop="dateModified" datetime="2020-11-05T23:03:31+08:00">2020-11-05</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/NuGet/" itemprop="url" rel="index"><span itemprop="name">NuGet</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>项目多了之后，NuGet 下载的包就回慢慢的变多，导致 C盘 被大量占用，这时候我们可以将 NuGet 的默认的包存放位置设置到其它目录下~</p>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/posts/nuget/globalPackagesFolder-config/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

       


      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="阿彬~">
            
              <p class="site-author-name" itemprop="name">阿彬~</p>
              <div class="site-description motion-element" itemprop="description">苏格拉底粉</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">61</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">19</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">51</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/iweixubin" title="GitHub &rarr; https://github.com/iweixubin" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:35925259@qq.com" title="E-Mail &rarr; mailto:35925259@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          
             <div class="cc-license motion-element" itemprop="license">
              
              
                
              
              
              
              <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
             </div>
          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2018 – <span itemprop="copyrightYear">2020</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">阿彬~</span>

  

  
</div>









        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.0"></script>

  <script src="/js/motion.js?v=7.1.0"></script>



  
  


  <script src="/js/affix.js?v=7.1.0"></script>

  <script src="/js/schemes/pisces.js?v=7.1.0"></script>




  

  


  <script src="/js/next-boot.js?v=7.1.0"></script>


  

  

  

  



  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
